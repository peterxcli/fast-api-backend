(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{6401:function(e){var r=Object.prototype.toString;function t(e){return"function"==typeof e.constructor?e.constructor.name:null}e.exports=function(e){if(void 0===e)return"undefined";if(null===e)return"null";var n=typeof e;if("boolean"===n)return"boolean";if("string"===n)return"string";if("number"===n)return"number";if("symbol"===n)return"symbol";if("function"===n)return"GeneratorFunction"===t(e)?"generatorfunction":"function";if(Array.isArray?Array.isArray(e):e instanceof Array)return"array";if(e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e))return"buffer";if(function(e){try{if("number"==typeof e.length&&"function"==typeof e.callee)return!0}catch(e){if(-1!==e.message.indexOf("callee"))return!0}return!1}(e))return"arguments";if(e instanceof Date||"function"==typeof e.toDateString&&"function"==typeof e.getDate&&"function"==typeof e.setDate)return"date";if(e instanceof Error||"string"==typeof e.message&&e.constructor&&"number"==typeof e.constructor.stackTraceLimit)return"error";if(e instanceof RegExp||"string"==typeof e.flags&&"boolean"==typeof e.ignoreCase&&"boolean"==typeof e.multiline&&"boolean"==typeof e.global)return"regexp";switch(t(e)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if("function"==typeof e.throw&&"function"==typeof e.return&&"function"==typeof e.next)return"generator";switch(n=r.call(e)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return n.slice(8,-1).toLowerCase().replace(/\s/g,"")}},9813:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return t(374)}])},3506:function(e,r,t){"use strict";t.d(r,{V:function(){return o}});var n=t(5893),a=t(8086),i=t(7357),s=t(5861);let o=e=>{let{open:r,handleClose:t,style:o,title:l,content:c}=e;return(0,n.jsx)(a.Z,{style:{zIndex:"9999"},open:r,onClose:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,n.jsxs)(i.Z,{sx:o,children:[(0,n.jsx)(s.Z,{id:"modal-modal-title",variant:"h6",component:"h2",children:l}),(0,n.jsx)(s.Z,{id:"modal-modal-description",sx:{mt:2},children:c})]})})}},9965:function(e,r,t){"use strict";t.d(r,{Z:function(){return W}});var n=t(5893),a=t(7294),i=t(1496),s=t(2734),o=t(7533),l=t(5296),c=t(2293),u=t(155),d=t(8462),f=t(5861),p=t(1519),h=t(3946),y=t(326),x=t(9572),j=t(6215),b=t(7212),g=t(8619),m=t(796),Z=t(9953),k=t(3795),v=t(7922),w=t(3321),S=t(1680),P=t(6571);let _=(0,i.ZP)(c.Z,{shouldForwardProp:e=>"open"!==e})(e=>{let{theme:r,open:t,drawerWidth:n}=e;return{backgroundColor:"#52BDFF",color:"#000000",transition:r.transitions.create(["margin","width"],{easing:r.transitions.easing.sharp,duration:r.transitions.duration.leavingScreen}),...t&&{width:"calc(100% - ".concat(n,"px)"),marginLeft:"".concat(n,"px"),transition:r.transitions.create(["margin","width"],{easing:r.transitions.easing.easeOut,duration:r.transitions.duration.enteringScreen})}}}),A=(0,i.ZP)("div")(e=>{let{theme:r}=e;return{display:"flex",alignItems:"center",padding:r.spacing(0,1),...r.mixins.toolbar,justifyContent:"flex-end"}});function C(e){let{user:r,handleLogout:t,drawerWidth:i,lists:c}=e,C=(0,s.Z)(),[E,U]=a.useState(!1),[F,I]=a.useState(""),N=()=>{U(!0)},D=()=>{U(!1)},O=e=>()=>{I(e==F?"":e)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.ZP,{}),(0,n.jsx)(_,{position:"sticky",open:E,drawerWidth:i,children:(0,n.jsxs)(u.Z,{children:[(0,n.jsx)(h.Z,{color:"inherit","aria-label":"open drawer",onClick:N,edge:"start",sx:{mr:2,...E&&{display:"none"}},children:(0,n.jsx)(y.Z,{})}),(0,n.jsx)(f.Z,{variant:"h6",noWrap:!0,component:"div",children:(0,n.jsx)(k.Z,{href:"/",color:"inherit",underline:"none",children:"Meow"})})]})}),(0,n.jsxs)(o.ZP,{sx:{width:i,flexShrink:0,"& .MuiDrawer-paper":{width:i,boxSizing:"border-box"}},variant:"persistent",anchor:"left",open:E,children:[(0,n.jsx)(A,{children:(0,n.jsx)(h.Z,{onClick:D,children:"ltr"===C.direction?(0,n.jsx)(x.Z,{}):(0,n.jsx)(j.Z,{})})}),(0,n.jsx)(p.Z,{}),(0,n.jsx)(d.Z,{children:c.map((e,r)=>{var t;return(0,n.jsxs)("div",{children:[(0,n.jsx)(b.ZP,{style:{color:"#0E4277"},component:k.Z,href:e.link||"javascript:void(0);",disablePadding:!0,onClick:O(e.key),children:(0,n.jsxs)(g.Z,{children:[(0,n.jsx)(m.Z,{children:e.icon}),(0,n.jsx)(Z.Z,{primary:e.label}),e.nested&&(F===e.key?(0,n.jsx)(S.Z,{}):(0,n.jsx)(P.Z,{}))]})},e.key),e.nested&&(0,n.jsx)(v.Z,{in:F===e.key,children:(0,n.jsx)(d.Z,{disablePadding:!0,children:null===(t=e.items)||void 0===t?void 0:t.map((e,r)=>(0,n.jsx)(b.ZP,{style:{color:"#0E4277",paddingLeft:"30px"},component:k.Z,href:e.link||"javascript:void(0);",children:(0,n.jsxs)(g.Z,{children:[(0,n.jsx)(m.Z,{children:e.icon}),(0,n.jsx)(Z.Z,{primary:e.label})]})},e.key))})})]},r)})}),(0,n.jsx)(p.Z,{}),!(null==r?void 0:r.isAuthenticated)&&(0,n.jsx)(b.ZP,{button:!0,children:(0,n.jsx)(w.Z,{href:"/",variant:"outlined",color:"inherit",children:"Log In"})}),!(null==r?void 0:r.isAuthenticated)&&(0,n.jsx)(b.ZP,{button:!0,children:(0,n.jsx)(w.Z,{href:"/",variant:"contained",color:"inherit",children:"Sign Up"})}),(null==r?void 0:r.isAuthenticated)&&(0,n.jsx)(b.ZP,{children:(0,n.jsx)(w.Z,{onClick:t,variant:"contained",color:"inherit",children:"Sign Out"})})]})]})}var E=t(2693),U=t(5567),F=t(4433),I=t(2149),N=t(512),D=t(5071),O=t(4372),L=t(9513),T=t(3242),B=t(2046),M=t(5166),R=t(1163);function W(e){let{children:r}=e,{user:t,logout:a,token:i,isAuthenticated:s}=(0,E.q)(),o=(0,R.useRouter)(),l=async()=>{a(),o.push("/")};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(C,{user:{user:t,token:i,isAuthenticated:s},drawerWidth:240,lists:z,handleLogout:l}),(0,n.jsx)("main",{children:r})]})}let z=[{key:"Home",label:"Home",icon:(0,n.jsx)(U.Z,{}),link:"/"},{key:"Dashboard",label:"Dashboard",icon:(0,n.jsx)(F.Z,{}),link:"/dashboard"},{key:"Upload",label:"Upload",icon:(0,n.jsx)(I.Z,{}),link:"/upload"},{key:"Swap",label:"Swap",icon:(0,n.jsx)(N.Z,{}),link:"/swap"},{key:"Team",label:"Team",icon:(0,n.jsx)(D.Z,{}),link:"/team"},{key:"preview",label:"preview",icon:(0,n.jsx)(O.Z,{}),nested:!0,items:[{key:"Pricing",label:"Pricing",icon:(0,n.jsx)(L.Z,{}),link:"/pricing"},{key:"career",label:"career",icon:(0,n.jsx)(T.Z,{}),link:"/career"},{key:"Business Plan (Restricted)",label:"Business Plan (Restricted)",icon:(0,n.jsx)(B.Z,{}),link:""},{key:"Survey",label:"Survey",icon:(0,n.jsx)(M.Z,{}),link:""}]}]},374:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return x}});var n=t(5893),a=t(7294),i=t(8659),s=t.n(i),o=t(2693),l=t(9965),c=t(8584),u=t(8725),d=t(7410),f=t.n(d),p=t(1163),h=t(3506);let y=()=>{let{user:e,logout:r,token:t,isAuthenticated:i,setUser:l,setAuthenticated:d}=(0,o.q)(),[y,x]=(0,a.useState)({password:"",birthday:null==e?void 0:e.birthday}),[j,b]=(0,a.useState)({password:!1,birthday:!1}),[g,m]=(0,a.useState)(!1),[Z,k]=(0,a.useState)(""),[v,w]=(0,a.useState)(""),[S,P]=(0,a.useState)(()=>{}),_=(0,a.useRef)(null),A=(0,p.useRouter)();(0,a.useEffect)(()=>{x({password:"",birthday:null==e?void 0:e.birthday})},[e]);let C=async()=>{let e=f()({...y}),r=await (0,c.I)("".concat(u.Z.baseUrl,"/api/user"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},null==t?void 0:t.csrf_token);k(r.success?"Update Success":"Update Fail"),w(r.success?"you have updated your: ".concat(Object.keys(e).map(e=>'"'.concat(e,'"')).join(" and ")," field"):"please refresh or try to login again"),P(()=>()=>{m(!1)}),m(!0)},E=()=>{r(),x({password:"",birthday:""}),A.push("/")};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:s().container,children:e&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h1",{className:s().title,children:e.username}),(0,n.jsxs)("div",{className:s().field,children:[(0,n.jsxs)("label",{children:["Password:",j.password?(0,n.jsx)("input",{required:!0,type:"password",value:y.password,onChange:e=>x({...y,password:e.target.value})}):(0,n.jsx)("span",{children:y.password})]}),(0,n.jsx)("button",{onClick:()=>b({...j,password:!j.password}),children:j.password?"Save":"Edit"})]}),(0,n.jsxs)("div",{className:s().field,children:[(0,n.jsxs)("label",{children:["Birthday:",j.birthday?(0,n.jsx)("input",{type:"date",ref:_,onChange:e=>{var r,t,n,a,i;x({...y,birthday:(r=e.target.value,n=""+((t=new Date(r)).getMonth()+1),a=""+t.getDate(),i=t.getFullYear(),n.length<2&&(n="0"+n),a.length<2&&(a="0"+a),[i,n,a].join("-"))}),console.log(e)}}):(0,n.jsx)("span",{children:y.birthday})]}),(0,n.jsx)("button",{onClick:()=>b({...j,birthday:!j.birthday}),children:j.birthday?"Save":"Edit"})]}),(0,n.jsx)("button",{className:s().button,onClick:C,children:"Update"}),(0,n.jsx)("button",{className:s().button,onClick:E,children:"Logout"})]})}),(0,n.jsx)(h.V,{open:g,handleClose:S,style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4,zIndex:9999},title:Z,content:v})]})};y.getLayout=e=>(0,n.jsx)(l.Z,{children:e});var x=y},8659:function(e){e.exports={container:"profile_container__UE7rH",title:"profile_title__tkvlJ",field:"profile_field__DVP4c"}},7410:function(e,r,t){"use strict";let n=t(6401),a=(e,r)=>{let t=!!r&&r.omitZero,a=e=>{if(Array.isArray(e)&&(e=e.map(e=>a(e)).filter(e=>!i(e,t))),"object"===n(e)){let r={};for(let t of Object.keys(e)){let n=a(e[t]);void 0!==n&&(r[t]=n)}e=r}if(!i(e,t))return e},s=a(e);return void 0===s&&"object"===n(e)?{}:s};function i(e,r){switch(n(e)){case"null":case"undefined":default:return!0;case"boolean":case"function":case"date":case"regexp":return!1;case"string":case"arguments":return 0===e.length;case"file":case"map":case"set":return 0===e.size;case"number":return!!r&&0===e;case"error":return""===e.message;case"array":for(let t of e)if(!i(t,r))return!1;return!0;case"object":for(let t of Object.keys(e))if(!i(e[t],r))return!1;return!0}}e.exports=a}},function(e){e.O(0,[428,774,888,179],function(){return e(e.s=9813)}),_N_E=e.O()}]);
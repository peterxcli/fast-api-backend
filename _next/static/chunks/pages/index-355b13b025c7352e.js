(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return i(85)}])},3506:function(e,n,i){"use strict";i.d(n,{V:function(){return o}});var t=i(5893),r=i(8086),s=i(7357),a=i(5861);let o=e=>{let{open:n,handleClose:i,style:o,title:l,content:d}=e;return(0,t.jsx)(r.Z,{style:{zIndex:"9999"},open:n,onClose:i,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,t.jsxs)(s.Z,{sx:o,children:[(0,t.jsx)(a.Z,{id:"modal-modal-title",variant:"h6",component:"h2",children:l}),(0,t.jsx)(a.Z,{id:"modal-modal-description",sx:{mt:2},children:d})]})})}},9965:function(e,n,i){"use strict";i.d(n,{Z:function(){return B}});var t=i(5893),r=i(7294),s=i(1496),a=i(2734),o=i(7533),l=i(5296),d=i(2293),c=i(155),u=i(8462),h=i(5861),x=i(1519),p=i(3946),j=i(326),Z=i(9572),m=i(6215),g=i(7212),b=i(8619),f=i(796),k=i(9953),y=i(3795),w=i(7922),v=i(3321),S=i(1680),P=i(6571);let _=(0,s.ZP)(d.Z,{shouldForwardProp:e=>"open"!==e})(e=>{let{theme:n,open:i,drawerWidth:t}=e;return{backgroundColor:"#52BDFF",color:"#000000",transition:n.transitions.create(["margin","width"],{easing:n.transitions.easing.sharp,duration:n.transitions.duration.leavingScreen}),...i&&{width:"calc(100% - ".concat(t,"px)"),marginLeft:"".concat(t,"px"),transition:n.transitions.create(["margin","width"],{easing:n.transitions.easing.easeOut,duration:n.transitions.duration.enteringScreen})}}}),C=(0,s.ZP)("div")(e=>{let{theme:n}=e;return{display:"flex",alignItems:"center",padding:n.spacing(0,1),...n.mixins.toolbar,justifyContent:"flex-end"}});function L(e){let{user:n,handleLogout:i,drawerWidth:s,lists:d}=e,L=(0,a.Z)(),[E,F]=r.useState(!1),[T,I]=r.useState(""),U=()=>{F(!0)},N=()=>{F(!1)},O=e=>()=>{I(e==T?"":e)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.ZP,{}),(0,t.jsx)(_,{position:"sticky",open:E,drawerWidth:s,children:(0,t.jsxs)(c.Z,{children:[(0,t.jsx)(p.Z,{color:"inherit","aria-label":"open drawer",onClick:U,edge:"start",sx:{mr:2,...E&&{display:"none"}},children:(0,t.jsx)(j.Z,{})}),(0,t.jsx)(h.Z,{variant:"h6",noWrap:!0,component:"div",children:(0,t.jsx)(y.Z,{href:"/",color:"inherit",underline:"none",children:"Meow"})})]})}),(0,t.jsxs)(o.ZP,{sx:{width:s,flexShrink:0,"& .MuiDrawer-paper":{width:s,boxSizing:"border-box"}},variant:"persistent",anchor:"left",open:E,children:[(0,t.jsx)(C,{children:(0,t.jsx)(p.Z,{onClick:N,children:"ltr"===L.direction?(0,t.jsx)(Z.Z,{}):(0,t.jsx)(m.Z,{})})}),(0,t.jsx)(x.Z,{}),(0,t.jsx)(u.Z,{children:d.map((e,n)=>{var i;return(0,t.jsxs)("div",{children:[(0,t.jsx)(g.ZP,{style:{color:"#0E4277"},component:y.Z,href:e.link||"javascript:void(0);",disablePadding:!0,onClick:O(e.key),children:(0,t.jsxs)(b.Z,{children:[(0,t.jsx)(f.Z,{children:e.icon}),(0,t.jsx)(k.Z,{primary:e.label}),e.nested&&(T===e.key?(0,t.jsx)(S.Z,{}):(0,t.jsx)(P.Z,{}))]})},e.key),e.nested&&(0,t.jsx)(w.Z,{in:T===e.key,children:(0,t.jsx)(u.Z,{disablePadding:!0,children:null===(i=e.items)||void 0===i?void 0:i.map((e,n)=>(0,t.jsx)(g.ZP,{style:{color:"#0E4277",paddingLeft:"30px"},component:y.Z,href:e.link||"javascript:void(0);",children:(0,t.jsxs)(b.Z,{children:[(0,t.jsx)(f.Z,{children:e.icon}),(0,t.jsx)(k.Z,{primary:e.label})]})},e.key))})})]},n)})}),(0,t.jsx)(x.Z,{}),!(null==n?void 0:n.isAuthenticated)&&(0,t.jsx)(g.ZP,{button:!0,children:(0,t.jsx)(v.Z,{href:"/",variant:"outlined",color:"inherit",children:"Log In"})}),!(null==n?void 0:n.isAuthenticated)&&(0,t.jsx)(g.ZP,{button:!0,children:(0,t.jsx)(v.Z,{href:"/",variant:"contained",color:"inherit",children:"Sign Up"})}),(null==n?void 0:n.isAuthenticated)&&(0,t.jsx)(g.ZP,{children:(0,t.jsx)(v.Z,{onClick:i,variant:"contained",color:"inherit",children:"Sign Out"})})]})]})}var E=i(2693),F=i(5567),T=i(4433),I=i(2149),U=i(512),N=i(5071),O=i(4372),D=i(9513),R=i(3242),q=i(2046),A=i(5166),z=i(1163);function B(e){let{children:n}=e,{user:i,logout:r,token:s,isAuthenticated:a}=(0,E.q)(),o=(0,z.useRouter)(),l=async()=>{r(),o.push("/")};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(L,{user:{user:i,token:s,isAuthenticated:a},drawerWidth:240,lists:W,handleLogout:l}),(0,t.jsx)("main",{children:n})]})}let W=[{key:"Home",label:"Home",icon:(0,t.jsx)(F.Z,{}),link:"/"},{key:"Dashboard",label:"Dashboard",icon:(0,t.jsx)(T.Z,{}),link:"/dashboard"},{key:"Upload",label:"Upload",icon:(0,t.jsx)(I.Z,{}),link:"/upload"},{key:"Swap",label:"Swap",icon:(0,t.jsx)(U.Z,{}),link:"/swap"},{key:"Team",label:"Team",icon:(0,t.jsx)(N.Z,{}),link:"/team"},{key:"preview",label:"preview",icon:(0,t.jsx)(O.Z,{}),nested:!0,items:[{key:"Pricing",label:"Pricing",icon:(0,t.jsx)(D.Z,{}),link:"/pricing"},{key:"career",label:"career",icon:(0,t.jsx)(R.Z,{}),link:"/career"},{key:"Business Plan (Restricted)",label:"Business Plan (Restricted)",icon:(0,t.jsx)(q.Z,{}),link:""},{key:"Survey",label:"Survey",icon:(0,t.jsx)(A.Z,{}),link:""}]}]},85:function(e,n,i){"use strict";i.r(n);var t=i(5893),r=i(9008),s=i.n(r),a=i(7281),o=i.n(a),l=i(7294),d=i(8584),c=i(8725),u=i(2693),h=i(1163),x=i(9965),p=i(3506);let j=()=>{let{user:e,logout:n,token:i,isAuthenticated:r,setUser:a,setAuthenticated:x,setToken:j}=(0,u.q)(),[Z,m]=(0,l.useState)(""),[g,b]=(0,l.useState)(""),[f,k]=(0,l.useState)(!1),[y,w]=(0,l.useState)(""),[v,S]=(0,l.useState)(""),[P,_]=(0,l.useState)(()=>{}),C=(0,h.useRouter)(),L=async e=>{e.preventDefault();let n=new URLSearchParams;n.append("username",Z),n.append("password",g);let t=await (0,d.I)("".concat(c.Z.baseUrl,"/api/auth/token"),{method:"POST",body:n,headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(!t.success){w("Login Fail, please try again"),S("username or password is incorrect"),_(()=>()=>{k(!1)}),k(!0),console.error("Login failed:",t.error);return}if(!(t=await (0,d.I)("".concat(c.Z.baseUrl,"/api/auth/user"),{method:"GET",headers:{"Content-Type":"application/json"}})).success){w("Login Fail, please try again"),S("cant get your identity"),_(()=>()=>{k(!1)}),console.error("Login failed:",t.error);return}x(!0),a(t.data),j({...i,csrf_token:t.data.csrf_token}),console.log("Login successful"),C.push("/profile")};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:o().index,children:[(0,t.jsxs)(s(),{children:[(0,t.jsx)("title",{children:"meow"}),(0,t.jsx)("meta",{name:"description",content:"meow"}),(0,t.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,t.jsx)("link",{rel:"icon",href:"favicon.ico"})]}),(0,t.jsxs)("form",{onSubmit:L,children:[(0,t.jsxs)("label",{children:["Username:",(0,t.jsx)("input",{type:"text",value:Z,onChange:e=>m(e.target.value),required:!0})]}),(0,t.jsxs)("label",{children:["Password:",(0,t.jsx)("input",{type:"password",value:g,onChange:e=>b(e.target.value),required:!0})]}),(0,t.jsx)("button",{type:"submit",children:"Log in"})]})]}),(0,t.jsx)(p.V,{open:f,handleClose:P,style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4,zIndex:9999},title:y,content:v})]})};j.getLayout=e=>(0,t.jsx)(x.Z,{children:e}),n.default=j},7281:function(e){e.exports={index:"index_index__5hyIO"}},9008:function(e,n,i){e.exports=i(2636)}},function(e){e.O(0,[428,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);
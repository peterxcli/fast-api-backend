(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{6840:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(9212)}])},8584:function(t,e,n){"use strict";async function r(t,e,n){e={...e,headers:{...null==e?void 0:e.headers,Authorization:"Bearer ".concat(localStorage.getItem("token")),csrf_token:n||""},credentials:"include"};try{let n=await fetch(t,e);if(!n.ok){let t=await n.json();return{success:!1,error:t.message||n.statusText,code:n.status}}let r=await n.json();return{success:!0,data:r,code:n.status}}catch(t){return{success:!1,error:t instanceof Error?t.message:"Something went wrong"}}}n.d(e,{I:function(){return r}})},8725:function(t,e){"use strict";e.Z={baseUrl:"http://localhost:8000",tracks:[]}},9212:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return u}});var r=n(5893);n(3577);var o=n(7294),s=n(8584),i=n(8725),a=n(2693);function u(t){var e;let{Component:n,pageProps:u}=t,{user:c,token:l,logout:d,isAuthenticated:f,setUser:p,setAuthenticated:v,setToken:h}=(0,a.q)();(0,o.useEffect)(()=>{let t=async()=>{let t=await (0,s.I)("".concat(i.Z.baseUrl,"/api/auth/user"),{method:"GET",headers:{"Content-Type":"application/json"}});if(t.success){let e=t.data;p(e),v(!0),h({...l,csrf_token:t.data.csrf_token})}else{let t=await (0,s.I)("".concat(i.Z.baseUrl,"/api/auth/token/refresh"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})},null==l?void 0:l.refresh_token);if(t.success){let e=t.data;p(e),v(!0),h({...l,csrf_token:t.data.csrf_token})}else d()}};t()},[v,p,h]);let y=null!==(e=n.getLayout)&&void 0!==e?e:t=>t;return y((0,r.jsx)(n,{...u}))}},2693:function(t,e,n){"use strict";n.d(e,{q:function(){return b}});let r=t=>{let e;let n=new Set,r=(t,r)=>{let o="function"==typeof t?t(e):t;if(!Object.is(o,e)){let t=e;e=(null!=r?r:"object"!=typeof o)?o:Object.assign({},e,o),n.forEach(n=>n(e,t))}},o=()=>e,s=t=>(n.add(t),()=>n.delete(t)),i=()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()},a={setState:r,getState:o,subscribe:s,destroy:i};return e=t(r,o,a),a},o=t=>t?r(t):r;var s,i=n(7294),a=n(2798);let{useSyncExternalStoreWithSelector:u}=a,c=t=>{"function"!=typeof t&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let e="function"==typeof t?o(t):t,n=(t,n)=>(function(t,e=t.getState,n){let r=u(t.subscribe,t.getState,t.getServerState||t.getState,e,n);return(0,i.useDebugValue)(r),r})(e,t,n);return Object.assign(n,e),n},l=new Map,d=t=>{let e=l.get(t);return e?Object.fromEntries(Object.entries(e.stores).map(([t,e])=>[t,e.getState()])):{}},f=(t,e,n)=>{if(void 0===t)return{type:"untracked",connection:e.connect(n)};let r=l.get(n.name);if(r)return{type:"tracked",store:t,...r};let o={connection:e.connect(n),stores:{}};return l.set(n.name,o),{type:"tracked",store:t,...o}},p=(t,e)=>{let n;try{n=JSON.parse(t)}catch(t){console.error("[zustand devtools middleware] Could not parse the received json",t)}void 0!==n&&e(n)},v=t=>e=>{try{let n=t(e);if(n instanceof Promise)return n;return{then:t=>v(t)(n),catch(t){return this}}}catch(t){return{then(t){return this},catch:e=>v(e)(t)}}},h=t=>({time:0,idle:!0,countDown:!1,timeUnit:20,setTime:e=>t({time:e}),incrementTime:e=>t(t=>({time:Math.max(t.time+e,0)})),toggleCountDown:()=>t(t=>({countDown:!t.countDown})),toggleIdle:()=>t(t=>({idle:!t.idle})),setCountDown:e=>t({countDown:e}),resetTimer:()=>t({time:0,idle:!0,countDown:!1})});var y=n(8725);let S=t=>({audioIndex:0,audios:y.Z.tracks,isOpen:!1,setAudioIndex:e=>{t({audioIndex:e})},initAudios:e=>{t({audios:e})},resetSetting:()=>{t({audioIndex:0,audios:[]})},toggleIsOpen:()=>{t(t=>({isOpen:!t.isOpen}))}});var g=n(8584);async function m(){return await (0,g.I)("".concat(y.Z.baseUrl,"/api/auth/logout"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})})}let w=t=>({user:void 0,token:void 0,isAuthenticated:!1,setUser:e=>t({user:e}),setToken:e=>t({token:e}),setAuthenticated:e=>t({isAuthenticated:e}),logout:async()=>{await m(),t({user:void 0,token:void 0,isAuthenticated:!1})}}),b=(s?c(s):c)(((t,e={})=>(n,r,o)=>{let s;let{enabled:i,anonymousActionType:a,store:u,...c}=e;try{s=(null==i||i)&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(t){}if(!s)return i&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),t(n,r,o);let{connection:l,...v}=f(u,s,c),h=!0;o.setState=(t,e,s)=>{let i=n(t,e);if(!h)return i;let f=void 0===s?{type:a||"anonymous"}:"string"==typeof s?{type:s}:s;return void 0===u?(null==l||l.send(f,r()),i):(null==l||l.send({...f,type:`${u}/${f.type}`},{...d(c.name),[u]:o.getState()}),i)};let y=(...t)=>{let e=h;h=!1,n(...t),h=e},S=t(o.setState,r,o);if("untracked"===v.type?null==l||l.init(S):(v.stores[v.store]=o,null==l||l.init(Object.fromEntries(Object.entries(v.stores).map(([t,e])=>[t,t===v.store?S:e.getState()])))),o.dispatchFromDevtools&&"function"==typeof o.dispatch){let t=!1,e=o.dispatch;o.dispatch=(...n)=>{"__setState"!==n[0].type||t||(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),t=!0),e(...n)}}return l.subscribe(t=>{var e;switch(t.type){case"ACTION":if("string"!=typeof t.payload){console.error("[zustand devtools middleware] Unsupported action format");return}return p(t.payload,t=>{if("__setState"===t.type){if(void 0===u){y(t.state);return}1!==Object.keys(t.state).length&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);let e=t.state[u];if(null==e)return;JSON.stringify(o.getState())!==JSON.stringify(e)&&y(e);return}o.dispatchFromDevtools&&"function"==typeof o.dispatch&&o.dispatch(t)});case"DISPATCH":switch(t.payload.type){case"RESET":if(y(S),void 0===u)return null==l?void 0:l.init(o.getState());return null==l?void 0:l.init(d(c.name));case"COMMIT":if(void 0===u){null==l||l.init(o.getState());break}return null==l?void 0:l.init(d(c.name));case"ROLLBACK":return p(t.state,t=>{if(void 0===u){y(t),null==l||l.init(o.getState());return}y(t[u]),null==l||l.init(d(c.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return p(t.state,t=>{if(void 0===u){y(t);return}JSON.stringify(o.getState())!==JSON.stringify(t[u])&&y(t[u])});case"IMPORT_STATE":{let{nextLiftedState:n}=t.payload,r=null==(e=n.computedStates.slice(-1)[0])?void 0:e.state;if(!r)return;void 0===u?y(r):y(r[u]),null==l||l.send(null,n);break}case"PAUSE_RECORDING":return h=!h}return}}),S})(function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return{...h(...e),...S(...e),...w(...e)}}))},3577:function(){},3250:function(t,e,n){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(7294),o="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},s=r.useState,i=r.useEffect,a=r.useLayoutEffect,u=r.useDebugValue;function c(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!o(t,n)}catch(t){return!0}}var l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(t,e){return e()}:function(t,e){var n=e(),r=s({inst:{value:n,getSnapshot:e}}),o=r[0].inst,l=r[1];return a(function(){o.value=n,o.getSnapshot=e,c(o)&&l({inst:o})},[t,n,e]),i(function(){return c(o)&&l({inst:o}),t(function(){c(o)&&l({inst:o})})},[t]),u(n),n};e.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},139:function(t,e,n){"use strict";/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(7294),o=n(1688),s="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},i=o.useSyncExternalStore,a=r.useRef,u=r.useEffect,c=r.useMemo,l=r.useDebugValue;e.useSyncExternalStoreWithSelector=function(t,e,n,r,o){var d=a(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=c(function(){function t(t){if(!u){if(u=!0,i=t,t=r(t),void 0!==o&&f.hasValue){var e=f.value;if(o(e,t))return a=e}return a=t}if(e=a,s(i,t))return e;var n=r(t);return void 0!==o&&o(e,n)?e:(i=t,a=n)}var i,a,u=!1,c=void 0===n?null:n;return[function(){return t(e())},null===c?void 0:function(){return t(c())}]},[e,n,r,o]);var p=i(t,d[0],d[1]);return u(function(){f.hasValue=!0,f.value=p},[p]),l(p),p}},1688:function(t,e,n){"use strict";t.exports=n(3250)},2798:function(t,e,n){"use strict";t.exports=n(139)}},function(t){var e=function(e){return t(t.s=e)};t.O(0,[774,179],function(){return e(6840),e(6885)}),_N_E=t.O()}]);